<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>MiniVue-Demo</title>
</head>
</html>
<body>
   <div id="app">
<!--         <p>姓名：{{name}} {{name}}</p>
        <p>年龄：{{age}}</p>
        <p>地址: {{address}}</p>
        <button @click="increase">年龄+1</button>
        <input v-model="age" :name="name">
        <textarea v-model="select"></textarea>
        <select multiple="multiple" v-model="select">
            <option value="v1">0</option>
            <option value="v2">1</option>
            <option value="v3">2</option>
            <option value="v4">3</option>
        </select>
        <button @click="sayHi">sayHi</button>

        <label>
            <input type="radio" name="good" value="r1" v-model="pick">
            test1
        </label>
        <label>
            <input type="radio" name="good" value="r2" v-model="pick">
            test2
        </label>
        <label>
            <input type="radio" name="good" value="r3" v-model="pick">
            test3
        </label>
        <input v-model="pick">


        <input type="checkbox" id="jack" value="Jack" v-model="checkedNames">
        <label for="jack">c1</label>
        <input type="checkbox" id="john" value="John" v-model="checkedNames">
        <label for="john">c2</label>
        <input type="checkbox" id="mike" value="Mike" v-model="checkedNames">
        <label for="mike">c3</label>
        <br>
        <span>Checked names: {{ checkedNames }}</span>

        <p v-text="name"></p>
        <p v-html="html"></p>
        <p v-show="show">这是一个v-show示例</p>

        <p v-if="if" el=1>{{address[0]}}</p>
        <p v-else el=2>{{address[1]}}</p> 

        <ul id="for">
            <li v-for="item in address">
                {{ item }}

                <p v-text="name"></p>
            </li>
        </ul>

        <button @click="reset">回复</button>
        <p v-my-directive="name">新指令</p>
        <p @click="sayHi">{{comTest}}</p> -->

        <my-component :name="obj" @send="sayTest">
            <template slot="header">
                <h1>有名字的slot</h1>
            </template>
            <template>
                <h1>没名字的slot</h1>
            </template>
        </my-component>
    </div>
</body>
<script>
    // 注册全局指令
    MiniVue.directive('my-directive', {
        bind() {
            console.log('bind')
        },
        update(value) {
            console.log('update' + value)
        },
        unbind() {
            console.log('unbind')
        }
    })

    MiniVue.mixin({
        methods: {
            mix() {
                console.log('一个测试函数')
            }
        }
    })

    const obj = {
        props: ['name'],
        data() {
            return {
                content: '这是一个子组件'
            }
        },
        template: '\
                    <div class="blog-post">\
                        <p @click="test">{{content}}</p>\
                        <p>{{name.a.msg}}</p>\
                        <slot name="header"></slot>\
                        <slot></slot>\
                    </div>',
        methods: {
            test() {
                this.$emit('send', 'haha')
            }
        }
    }

    MiniVue.component('my-component', obj)

    const vm = new MiniVue({
        el: '#app',
        data: {
            age: 18,
            name: '小马',
            obj: {
                a: {
                    msg: 'abc'
                }
            },
            select: ['v1', 2, 3, 4],
            pick: '',
            checkedNames: [],
            address: ['中国', '天津', '南开'],
            html: '<span style="color:red">这是一段v-html</span>',
            show: 'a',
            newAddress: ['银河', '太阳', '地球'],
            if: true
        },
        methods: {
            increase() {
                this.age++
                this.age++
                this.age++
                this.age++
            },
            reset() {
                this.address = ['中国', '天津', '南开']
            },
            sayHi() {
                console.log('父组件有一个自己的sayHi方法')
            },
            sayTest(msg) {
                console.log('hi, '  + msg)
            }
        },
        computed: {
            comTest() {
                return this.age + ' ' + this.name
            }
        }
    })
</script>